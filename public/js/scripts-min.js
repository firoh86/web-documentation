"use strict";var menuNoRepeat,form=document.getElementById("form"),title=document.getElementById("title"),sectionTitle=document.getElementById("section-title"),sectionParagraph=document.getElementById("section-paragraph"),codeParagraph=document.getElementById("code-paragraph"),preview=document.getElementById("preview"),titleButton=document.getElementById("title-button"),sectionTitleButton=document.getElementById("section-title-button"),sectionParagraphButton=document.getElementById("section-paragraph-button"),codeParagraphButton=document.getElementById("code-paragraph-button");if(form){form.addEventListener("submit",function(e){e.preventDefault()}),titleButton.addEventListener("click",function(e){preview.innerHTML="<h1>".concat(title.value,"</h1>"),title.value=""}),sectionTitleButton.addEventListener("click",function(e){preview.innerHTML+="<h2>".concat(sectionTitle.value,"</h2>"),sectionTitle.value=""}),sectionParagraphButton.addEventListener("click",function(e){preview.innerHTML+="<p>".concat(sectionParagraph.value,"</p>"),sectionParagraph.value=""}),codeParagraphButton.addEventListener("click",function(e){preview.innerHTML+="<pre><code class='language-css'>".concat(codeParagraph.value,"</code></pre>"),codeParagraph.value=""});var saveData=function(){}}var menu=document.getElementById("menu");if(menu){addEventListener("load",function(){var e;(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET","/getMenus"),e.addEventListener("load",function(e){var t=JSON.parse(e.target.response),n=document.createDocumentFragment(),a=!0,i=!1,r=void 0;try{for(var o,c=t[0][Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var s=o.value,d=document.createElement("LI");d.dataset.id=s.id,d.classList.add("menu__item");var u=document.createElement("SPAN");u.textContent=s.title,u.classList.add("menu__text"),d.append(u);var l=document.createElement("UL");0==t[0].indexOf(s)&&l.classList.add("submenu--show"),l.classList.add("menu","submenu"),l.dataset.id=s.id,d.append(l),n.append(d);var m=!0,p=!1,v=void 0;try{for(var g,f=t[1][Symbol.iterator]();!(m=(g=f.next()).done);m=!0){var y=g.value;if(y.menu_id==s.id){var L=document.createElement("LI");L.textContent=y.title,L.dataset.id=y.id,L.classList.add("submenu__item"),l.append(L)}}}catch(e){p=!0,v=e}finally{try{m||null==f.return||f.return()}finally{if(p)throw v}}}}catch(e){i=!0,r=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}menu.append(n)}),e.send()}),menu.addEventListener("click",function(e){var t,n=e.target;if(navigateTarget(n),e.target.classList.contains("menu__item"))t=e.target.children[1],getContent(t.dataset.id);else{if(!e.target.classList.contains("menu__text")||e.target.classList.contains("menu"))return;t=e.target.nextElementSibling,getContent(t.dataset.id)}if(!e.target.classList.contains("submenu__item")){Array.from(document.querySelectorAll(".submenu")).map(function(e){return e.classList.remove("submenu--show")});var a=26*t.children.length;document.documentElement.style.setProperty("--submenu-height",a+"px"),t.classList.add("submenu--show")}});var main=document.getElementById("main"),getContent=function(e){var t;(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET","/getContent/".concat(e)),t.addEventListener("load",function(e){var t=JSON.parse(e.target.response);main.innerHTML=t[0].text,inyectaStyle()}),t.send()},inyectaStyle=function(){var e=document.getElementById("inyeccion");if(e){e.parentNode.removeChild(e);var t=document.createElement("script");t.src="js/prism.js",t.id="inyeccion",document.body.appendChild(t)}else{var n=document.createElement("script");n.src="js/prism.js",n.id="inyeccion",document.body.appendChild(n)}},navigateTarget=function(t){if(t.classList.contains("submenu__item")){var e=Array.from(main.querySelectorAll("h2")).filter(function(e){return e.textContent.toLowerCase().startsWith(t.textContent.toLowerCase())})[0];scrollTo(0,e.offsetTop-110)}else scrollTo(0,-110)};getContent(1)}